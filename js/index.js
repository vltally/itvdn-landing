function isInViewport(e){e=e.getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}window.ITVDN={},function(){var e={isEmail:function(e){return/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/.test(e)},isNumber:function(e){return/^\d+$/.test(e)},isNotEmpty:function(e){return Boolean(e)}};ITVDN.validation=e}(),function(){let o={},e=document.querySelector(".form-container"),t=null;function n(){o.close(),t.removeEventListener("click",n),document.removeEventListener("keydown",i)}function i(e){"Escape"==e.key&&!0===messageText&&n()}o.open=function(){e.classList.remove("is-hidden"),(t=document.querySelector(".form__close-button")).addEventListener("click",n),document.addEventListener("keydown",i)},o.close=function(){e.classList.add("is-hidden")},o.isValid=function(){var e=document.querySelectorAll('[data-valid="required"]'),t=document.querySelector("[data-email]").value,n=document.querySelector("[data-number]").value;return o.isAllCompleted(e)?ITVDN.validation.isEmail(t)?!!ITVDN.validation.isNumber(n)||(console.log("Не вірний number"),!1):(console.log("Не вірний email"),!1):(console.log("Заповність усі необхідні поля"),!1)},o.isAllCompleted=function(t){let n=!0;for(let e=0;e<t.length;e++)if(1!=ITVDN.validation.isNotEmpty(t[e].value)){n=!1;break}return n},ITVDN.form=o}(),function(){var e={};e.toggleToActiveLink=function(o){var t=document.querySelectorAll(".nav__link"),i=o.dataset.link;for(let e=0;e<t.length;e++)t[e].classList.contains("nav__link--active")&&t[e].classList.remove("nav__link--active");o.classList.add("nav__link--active");{o=i;let e=document.querySelector("."+o),t=e.getBoundingClientRect(),n=setInterval(function(){window.pageYOffset<t.top?(console.log(document.body.scrollLeft),window.scrollBy(0,10)):clearInterval(n)},.4)}},ITVDN.navigation=e}();let messageText;const box=document.querySelector(".form-section");document.addEventListener("scroll",function(){messageText=!!isInViewport(box)},{passive:!0}),function(){var e=document.querySelector(".arrow-down"),t=document.querySelector(".form"),n=document.querySelector(".nav");e&&e.addEventListener("click",e=>{e.preventDefault(),ITVDN.form.open()}),t&&t.addEventListener("submit",function(e){e.preventDefault(),ITVDN.form.isValid()?console.log("All good"):console.log("Is not valid")}),n&&n.addEventListener("click",function(e){var t=e.target;"a"===t.tagName.toLowerCase()&&(e.preventDefault(),ITVDN.navigation.toggleToActiveLink(t))})}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlzSW5WaWV3cG9ydC5qcyIsImluaXQuanMiLCJ2YWxpZGF0aW9uLmpzIiwiZm9ybS5qcyIsIm5hdmlnYXRpb24uanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbImlzSW5WaWV3cG9ydCIsImVsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwicmlnaHQiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJJVFZETiIsImxldCIsIm1lIiwiaXNFbWFpbCIsImVtYWlsIiwidGVzdCIsImlzTnVtYmVyIiwibnVtYmVyIiwiaXNOb3RFbXB0eSIsInN0ciIsIkJvb2xlYW4iLCJ2YWxpZGF0aW9uIiwiZm9ybSIsInF1ZXJ5U2VsZWN0b3IiLCJjbG9zZUJ1dHRvbiIsIm9uQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXlDaGVjayIsImUiLCJrZXkiLCJtZXNzYWdlVGV4dCIsIm9wZW4iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkIiwiaXNWYWxpZCIsInJlcXVpcmVkRmllbGRzIiwicXVlcnlTZWxlY3RvckFsbCIsImVtYWlsVmFsdWUiLCJ2YWx1ZSIsIm51bWJlclZhbHVlIiwiaXNBbGxDb21wbGV0ZWQiLCJjb25zb2xlIiwibG9nIiwiZGF0YSIsInJlc3VsdCIsImkiLCJsZW5ndGgiLCJ0b2dnbGVUb0FjdGl2ZUxpbmsiLCJ0YXJnZXQiLCJsaW5rcyIsInNob3dlZFNlY3Rpb24iLCJkYXRhc2V0IiwibGluayIsImNvbnRhaW5zIiwic2Nyb2xsVG9BY3RpdmVTZWN0aW9uIiwic2VjdGlvbiIsImNvb3JkcyIsInRpbWVySWQiLCJzZXRJbnRlcnZhbCIsInBhZ2VZT2Zmc2V0IiwiYm9keSIsInNjcm9sbExlZnQiLCJzY3JvbGxCeSIsImNsZWFySW50ZXJ2YWwiLCJuYXZpZ2F0aW9uIiwiYm94IiwicGFzc2l2ZSIsIm9wZW5Gb3JtQnV0dG9uIiwibmF2IiwicHJldmVudERlZmF1bHQiLCJ0YWdOYW1lIiwidG9Mb3dlckNhc2UiXSwibWFwcGluZ3MiOiJBQUNBLFNBQUFBLGFBQUFDLEdBQ0FDLEVBQUFELEVBQUFFLHNCQUFBLEVBQ0EsT0FDQSxHQUFBRCxFQUFBRSxLQUNBLEdBQUFGLEVBQUFHLE1BQ0FILEVBQUFJLFNBQUFDLE9BQUFDLGFBQUFDLFNBQUFDLGdCQUFBQyxlQUNBVCxFQUFBVSxRQUFBTCxPQUFBTSxZQUFBSixTQUFBQyxnQkFBQUksWUFHQSxDQ1ZBUCxPQUFBUSxNQUFBLEdDQUEsV0FDQUMsSUFBQUMsRUFBQSxDQUVBQyxRQUFBLFNBQUFDLEdBRUEsTUFEQSx3RUFDQUMsS0FBQUQsQ0FBQSxDQUNBLEVBR0FFLFNBQUEsU0FBQUMsR0FFQSxNQURBLFFBQ0FGLEtBQUFFLENBQUEsQ0FDQSxFQUVBQyxXQUFBLFNBQUFDLEdBQ0EsT0FBQUMsUUFBQUQsQ0FBQSxDQUNBLENBZkEsRUFpQkFULE1BQUFXLFdBQUFULENBQ0EsRUFBQSxFQ25CQSxXQUNBRCxJQUFBQyxFQUFBLEdBQ0FVLEVBQUFsQixTQUFBbUIsY0FBQSxpQkFBQSxFQUNBQyxFQUFBLEtBRUEsU0FBQUMsSUFDQWIsRUFBQWMsTUFBQSxFQUNBRixFQUFBRyxvQkFBQSxRQUFBRixDQUFBLEVBQ0FyQixTQUFBdUIsb0JBQUEsVUFBQUMsQ0FBQSxDQUNBLENBRUEsU0FBQUEsRUFBQUMsR0FFQSxVQURBQSxFQUFBQyxLQUVBLENBQUEsSUFBQUMsYUFFQU4sRUFBQSxDQUdBLENBRUFiLEVBQUFvQixLQUFBLFdBQ0FWLEVBQUFXLFVBQUFDLE9BQUEsV0FBQSxHQUNBVixFQUFBcEIsU0FBQW1CLGNBQUEscUJBQUEsR0FDQVksaUJBQUEsUUFBQVYsQ0FBQSxFQUVBckIsU0FBQStCLGlCQUFBLFVBQUFQLENBQUEsQ0FFQSxFQUVBaEIsRUFBQWMsTUFBQSxXQUVBSixFQUFBVyxVQUFB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IjpbIlxyXG5mdW5jdGlvbiBpc0luVmlld3BvcnQoZWwpIHtcclxuICAgIGNvbnN0IHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgcmVjdC50b3AgPj0gMCAmJlxyXG4gICAgICAgIHJlY3QubGVmdCA+PSAwICYmXHJcbiAgICAgICAgcmVjdC5ib3R0b20gPD0gKHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSAmJlxyXG4gICAgICAgIHJlY3QucmlnaHQgPD0gKHdpbmRvdy5pbm5lcldpZHRoIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aClcclxuXHJcbiAgICApO1xyXG59XHJcbmxldCBtZXNzYWdlVGV4dDtcclxuXHJcbmNvbnN0IGJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLXNlY3Rpb24nKTtcclxuXHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgbWVzc2FnZVRleHQgPSBpc0luVmlld3BvcnQoYm94KSA/XHJcbiAgICAgICAgdHJ1ZSA6XHJcbiAgICAgICAgZmFsc2U7XHJcblxyXG4gICAgXHJcblxyXG59LCB7XHJcbiAgICBwYXNzaXZlOiB0cnVlXHJcbn0pO1xyXG5cclxuXHJcbiIsIndpbmRvdy5JVFZETiA9IHt9OyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgbWUgPSB7fTtcclxuXHJcbiAgICBtZS5pc0VtYWlsID0gZnVuY3Rpb24oZW1haWwpe1xyXG4gICAgICAgIGxldCByZSA9IC9eKFthLXowLTlfLV0rXFwuKSpbYS16MC05Xy1dK0BbYS16MC05Xy1dKyhcXC5bYS16MC05Xy1dKykqXFwuW2Etel17Miw2fSQvO1xyXG4gICAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgbWUuaXNOdW1iZXIgPSBmdW5jdGlvbihudW1iZXIpe1xyXG4gICAgICAgIGxldCByZSA9IC9eXFxkKyQvO1xyXG4gICAgICAgIHJldHVybiByZS50ZXN0KG51bWJlcik7XHJcbiAgICB9XHJcblxyXG4gICAgbWUuaXNOb3RFbXB0eSA9IGZ1bmN0aW9uKHN0cil7XHJcbiAgICAgICAgcmV0dXJuIEJvb2xlYW4oc3RyKTtcclxuICAgIH1cclxuXHJcbiAgICBJVFZETi52YWxpZGF0aW9uID0gbWU7XHJcbn0oKSk7IiwiKGZ1bmN0aW9uKCl7XHJcbiAgICBsZXQgbWUgPSB7fTtcclxuICAgIGxldCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWNvbnRhaW5lclwiKTtcclxuICAgIGxldCBjbG9zZUJ1dHRvbiA9IG51bGw7XHJcblxyXG4gICAgZnVuY3Rpb24gb25DbG9zZSgpe1xyXG4gICAgICAgIG1lLmNsb3NlKCk7XHJcbiAgICAgICAgY2xvc2VCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQ2xvc2UpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleUNoZWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBrZXlDaGVjayhlKXtcclxuICAgICAgICBjb25zdCBrZXlOYW1lID0gZS5rZXk7XHJcbiAgICAgICAgaWYoa2V5TmFtZSA9PSBcIkVzY2FwZVwiKXtcclxuICAgICAgICAgICAgIGlmKG1lc3NhZ2VUZXh0ID09PSB0cnVlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBtZS5vcGVuID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBmb3JtLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpO1xyXG4gICAgICAgIGNsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2Nsb3NlLWJ1dHRvbicpO1xyXG4gICAgICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkNsb3NlKTtcclxuICAgICAgIFxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleUNoZWNrKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBtZS5jbG9zZSA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9ybS5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBtZS5pc1ZhbGlkID0gZnVuY3Rpb24oKXtcclxuICAgICAgICBsZXQgcmVxdWlyZWRGaWVsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS12YWxpZD1cInJlcXVpcmVkXCJdJyk7XHJcbiAgICAgICAgbGV0IGVtYWlsVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lbWFpbF0nKS52YWx1ZTtcclxuICAgICAgICBsZXQgbnVtYmVyVmFsdWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1udW1iZXJdJykudmFsdWU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoIW1lLmlzQWxsQ29tcGxldGVkKHJlcXVpcmVkRmllbGRzKSl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi0JfQsNC/0L7QstC90ZbRgdGC0Ywg0YPRgdGWINC90LXQvtCx0YXRltC00L3RliDQv9C+0LvRj1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1lbHNlIGlmICghSVRWRE4udmFsaWRhdGlvbi5pc0VtYWlsKGVtYWlsVmFsdWUpKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCLQndC1INCy0ZbRgNC90LjQuSBlbWFpbFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1lbHNlIGlmICghSVRWRE4udmFsaWRhdGlvbi5pc051bWJlcihudW1iZXJWYWx1ZSkpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcItCd0LUg0LLRltGA0L3QuNC5IG51bWJlclwiKTsgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSByZXR1cm4gdHJ1ZVxyXG4gICAgICAgIFxyXG5cclxuICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIG1lLmlzQWxsQ29tcGxldGVkID0gZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IHRydWU7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgICAgICBpZihJVFZETi52YWxpZGF0aW9uLmlzTm90RW1wdHkoZGF0YVtpXS52YWx1ZSkgIT0gdHJ1ZSl7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIElUVkROLmZvcm0gPSBtZTtcclxufSgpKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgbWUgID0ge307XHJcblxyXG4gICAgbWUudG9nZ2xlVG9BY3RpdmVMaW5rID0gZnVuY3Rpb24odGFyZ2V0KSB7XHJcbiAgICAgICAgbGV0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5hdl9fbGluaycpO1xyXG5cclxuICAgICAgICBsZXQgc2hvd2VkU2VjdGlvbiA9ICB0YXJnZXQuZGF0YXNldC5saW5rO1xyXG5cclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYobGlua3NbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCduYXZfX2xpbmstLWFjdGl2ZScpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBsaW5rc1tpXS5jbGFzc0xpc3QucmVtb3ZlKFwibmF2X19saW5rLS1hY3RpdmVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJuYXZfX2xpbmstLWFjdGl2ZVwiKTtcclxuICAgICAgICBzY3JvbGxUb0FjdGl2ZVNlY3Rpb24oc2hvd2VkU2VjdGlvbik7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNjcm9sbFRvQWN0aXZlU2VjdGlvbihzaG93ZWRTZWN0aW9uKSB7XHJcbiAgICAgIFxyXG4gICAgICAgIGxldCBzZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLicgKyBzaG93ZWRTZWN0aW9uKTtcclxuICAgICAgICBsZXQgY29vcmRzID0gc2VjdGlvbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBsZXQgYW5pbWF0ZVRpbWUgPSAwLjQ7XHJcblxyXG4gICAgICAgIC8vIHdpbmRvdy5zY3JvbGxUbygwLCBjb29yZHMudG9wKTtcclxuICAgICAgICAvLyBsZXQgdGltZXJJZCAgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyAgICAgaWYoZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgPCBjb29yZHMudG9wKXtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCk7XHJcbiAgICAgICAgLy8gICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwgMTApO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICAgIGVsc2V7XHJcbiAgICAgICAgLy8gICAgICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSwgYW5pbWF0ZVRpbWUgfHwgMC41KVxyXG4gICAgICAgICBsZXQgdGltZXJJZCAgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYod2luZG93LnBhZ2VZT2Zmc2V0IDwgY29vcmRzLnRvcCl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbEJ5KDAsIDEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGFuaW1hdGVUaW1lIHx8IDAuNSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgSVRWRE4ubmF2aWdhdGlvbiA9IG1lO1xyXG59KCkpOyIsIihmdW5jdGlvbigpe1xyXG4gICBcclxuICAgIFxyXG4gICAgbGV0IG9wZW5Gb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hcnJvdy1kb3duXCIpO1xyXG4gICAgbGV0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICBsZXQgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZcIik7XHJcblxyXG4gICAgaWYob3BlbkZvcm1CdXR0b24pe1xyXG4gICAgICAgIG9wZW5Gb3JtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIElUVkROLmZvcm0ub3BlbigpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYoZm9ybSl7XHJcbiAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmKElUVkROLmZvcm0uaXNWYWxpZCgpKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQWxsIGdvb2RcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSXMgbm90IHZhbGlkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpZiAobmF2KXtcclxuICAgICAgICBuYXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICBpZih0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIElUVkROLm5hdmlnYXRpb24udG9nZ2xlVG9BY3RpdmVMaW5rKHRhcmdldCk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgXHJcbn0oKSk7Il19
